# 7.3 컬렉션과 범위에 대해 쓸 수 있는 관례

> 컬렉션 애용 연산
> - 인덱스를 사용해 원소를 읽거나 쓰기
> - 컬렉션에 속해있는지 검사하기

이런 연산을 지원하기 위한 관례(Convention)를 알아보자.

## 7.3.1 인덱스로 원소에 접근: get과 set

> 쉬어가기 : 인덱스 연산자 (`[ ]`)
```kotlin
val value = map[key] // (읽기) 원소 접근
mutableMap[key] = newValue // (쓰기) 새로운 키/값 쌍을 넣거나 값을 수정
```

* 인덱스 연산자를 사용해 원소를 읽는 연산 : get 연산자 메소드로 변환
* 쓰는 연산은 set 연산자 메소드로 변환

### 7.9 get 관례 구현하기
```kotlin
operator fun Point.get(index:Int): Int { // get 메서드 생성 후 operator 변경자를 붙이기만 하면 됨.
    return when(index){
        0-> x // 0이면, x 반
        1-> y
        else-> throw IndexOutOfBoundsException("Invalid coordinate $index") 
    }
}

>> val p = Point(10, 20)
>> println(p[1]) // 20
```

* get 파라미터 타입 == 맵의 키 타입, 즉 임의의 타입이 될 수 있음
```kotlin
operator fun get(rowIndex: Int, colIndex: Int);

// ...

matrix[row,col] // 호출 가능
```

### 7.10 set 관례 구현하기
```kotlin
data class MutablePoint(val x:Int, var y: Int)

operator fun MutablePoint.set(index:Int, value: Int){
    when(index){
        0-> x = value // 0이면 x에 value 할당
        1-> y = value
        else-> throw // ...
    }
}

>>> val p = MutablePoint(10, 20)
>>> val p[1] = 42
>>> println(p) // MutablePoint(x=10, y=42) // <- data class 덕분에 toString() 자동 선언
```


