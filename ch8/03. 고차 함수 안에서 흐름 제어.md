# 03. 고차 함수 안에서 흐름 제어

## 8.3.1 람다 안의 return문

```kotlin
data class Person(val name: String, val age: Int)


fun lookForAlice(people: List<Person>){
    println("========== lookForAlice ==========")
    
    for(person in people){
        if(person.name == "Alice"){
            println("Found!")
            return // 일반 함수 return 동작: 즉시 호출된 곳으로 반환
        }
    }
    
    println("여기까지 도달했니?")
}

val people = listOf(Person("Alice", 29), Person("Bob", 31))
>>> lookForAlice(people) // Found!
```


```kotlin
fun lookForAliceWithLambda(people: List<Person>){
    println("========== lookForAliceWithLambda ==========")
    
    people.forEach {
        if (it.name == "Alice"){
            println("Found!")
            return // 인라인 함수이기에, non-local return
        }
    }
    
    println("여기까지 도달했니?")
}

val people = listOf(Person("Alice", 29), Person("Bob", 31))
>>> lookForAliceWithLambda(people) // Found!
```

> 자신을 둘러싸고 있는 블록보다 더 바깥에 있는 다른 블록을 반환하게 만드는 return문을 `non-local return`이라 부른다.
> 
> [주의사항]
> - 람다를 인자로 받는 함수에서만 가능, [e.g] forEach

![image](https://github.com/user-attachments/assets/6969474c-d061-42f7-9ea4-70a041e94f52)



> Q. 만약 람다로부터 반환을 끝내고 싶다면??  
> A. label 키워드를 사용하기


```kotlin
fun lookForAliceWithLabel(people: List<Person>){
    println("========== lookForAliceWithLabel ==========")
    
    people.forEach label@ { // 
        if (it.name == "Alice"){
            println("Found!")
            return@label
        }
    }
    
    println("여기까지 도달했니?")
}

val people = listOf(Person("Alice", 29), Person("Bob", 31))
>>> lookForAliceWithLambda(people)
// [출력값]
// Found!
// 여기까지 도달했니?
```
